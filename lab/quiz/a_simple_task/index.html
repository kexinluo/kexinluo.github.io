<!doctype html>
<html>
	<head>
		<meta charset='UTF-8'>
		<title>一个简单的问题</title>
		<link rel="stylesheet" href="/src/css/main_theme.css">
		<link rel="shortcut icon" href="./icon.ico">
		<script>
			function randint(l, r) {
				return Math.floor(Math.random() * (r - l + 1) ) + l;
			}
			var qid, q_list;
			function load() {
				const response = await fetch("./data.json");
				q_list = await response.json();
				// console.log(q_list);
			}
			function make() {
				qid = randint(0, q_list.length - 1);
				document.getElementById('q1').innerHTML = q_list[qid].q;
				document.getElementById('in1').value = "";
				document.getElementById('ret1').innerHTML = "";
			}
			function check() {
				var input, ret;
				var input = document.getElementById('in1').value;
				if (input == q_list[qid].ans) ret = "对了！";
				else ret = "错了！";
				document.getElementById('ret1').innerHTML = ret;
			}
		</script>
	</head>
	<body onload="await load(); make();">
		<div>
			<h1>一个简单的问题</h1>
			<p>请写出下面这个问题的答案：</p>
			<p id="q1"></p>
			<input id="in1">
			<button type="button" onclick="check()">提交</button>
			<p id="ret1"></p>
			<button type="button" onclick="make()">再来一题</button>
		</div>
	</body>
</html>
